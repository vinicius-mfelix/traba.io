name: GitHub Actions Dev Environment
on: [push]
jobs:
  Build-Application:
    runs-on: [debian-runner]
    env: 
      BACK_END_DIR: /home/admin/projects/source-code/back-end/startupone-backend
      JAR_FILE: /home/admin/projects/source-code/back-end/startupone-backend/target/startupone-0.0.1-SNAPSHOT.jar
    steps:
      - name: Install Maven Artifact
        working-directory: ${{ env.BACK_END_DIR }}
        run: |
            echo "ðŸŽ¯ DEV ENVIRONMENT RUNNING"
            echo "ðŸ§­ Running on ${{ runner.os }} - AWS Hosted VM"
            git checkout dev
            git pull origin dev
            echo "ðŸ›  Installing Maven dependency..."
            ./mvnw clean install
      - name: Build Maven Artifact Package
        working-directory: ${{ env.BACK_END_DIR }}
        run: |
            echo "ðŸŽ¯ DEV ENVIRONMENT RUNNING"
            echo "ðŸ§­ Running on ${{ runner.os }} - AWS Hosted VM"
            git checkout dev
            echo "ðŸ›  Building Maven package..."
            ./mvnw clean package
      - name: Publish Tomcat Embedded Server
        working-directory: ${{ env.BACK_END_DIR }}
        run: |
            echo "ðŸŽ¯ DEV ENVIRONMENT RUNNING"
            echo "ðŸ§­ Running on ${{ runner.os }} - AWS Hosted VM"
            git checkout dev
            echo "ðŸ“¬ Publishing Server..."
            sudo systemctl
            
